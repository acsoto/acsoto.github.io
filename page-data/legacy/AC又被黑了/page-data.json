{"componentChunkName":"component---src-templates-blog-post-js","path":"/legacy/AC又被黑了/","result":{"data":{"site":{"siteMetadata":{"title":"SOTO-BLOG"}},"markdownRemark":{"id":"12af1066-c9e3-5b1b-a4ae-b6ea6b7cc3f9","tableOfContents":"<ul>\n<li><a href=\"#%E5%90%8E%E7%BB%AD\">后续</a></li>\n</ul>","excerpt":"下午突然看到服务器有人发  仔细一看  打开链接一看：  很无语，一开始以为是国外作案，黑进数据库了，一看我数据库根本没对外网开放 查来查去发现是有人盗了一个用来处理封禁的账号，进去之后一通乱封 把数据库恢复了一下备份，玩家还是进不去，我能进去，查了一下litebans的官网，…","html":"<p>下午突然看到服务器有人发</p>\n<p><img src=\"https://pic.mcac.cc/202212310104240.png\" alt=\"\"></p>\n<p>仔细一看</p>\n<p><img src=\"https://pic.mcac.cc/202212310104990.png\" alt=\"\"></p>\n<p>打开链接一看：</p>\n<p><img src=\"https://pic.mcac.cc/202212310105241.png\" alt=\"\"></p>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube.com/embed/dQw4w9WgXcQ\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>\n<p>很无语，一开始以为是国外作案，黑进数据库了，一看我数据库根本没对外网开放</p>\n<p>查来查去发现是有人盗了一个用来处理封禁的账号，进去之后一通乱封</p>\n<p>把数据库恢复了一下备份，玩家还是进不去，我能进去，查了一下litebans的官网，是用了一个封锁服务器进入权限的指令，打了个指令就解决了。</p>\n<p>很低级的手段，很无聊的恶趣味</p>\n<hr>\n<h4 id=\"后续\" style=\"position:relative;\"><a href=\"#%E5%90%8E%E7%BB%AD\" aria-label=\"后续 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>后续</h4>\n<p>原本晚上前往教学楼复习数分，没有带电脑。</p>\n<p>没想到，在傍晚又被黑了，因为只是还有管理号没有停掉，仅凭手机暂时解决了问题，在仔细推敲后，认为其是通过非法调用我部署在web服务器的litebans端的api来实现用拥有权限的玩家账号去封禁其他玩家。</p>\n<p>结果在稍晚一点又一次被黑，终于意识到，事情根本没有那么复杂，只是因为litebans是BC插件，Authme没办法限制登陆前对指令使用权限，任意一个有litebans权限的账号都在未登陆的情况下可以随意使用指令。其实早就应该发现我留了这种低级漏洞的，也没想道竟然这么久了才有人发现了这个这么简单的漏洞。</p>","frontmatter":{"title":"AC又被黑了","date":"2021-11-28","image":"https://pic.mcac.cc/202212310105241.png","tags":[]}}},"pageContext":{"id":"12af1066-c9e3-5b1b-a4ae-b6ea6b7cc3f9"}},"staticQueryHashes":["2731891648"],"slicesMap":{}}