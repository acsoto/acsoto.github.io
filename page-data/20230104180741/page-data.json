{"componentChunkName":"component---src-templates-blog-post-js","path":"/20230104180741/","result":{"data":{"site":{"siteMetadata":{"title":"SOTO"}},"markdownRemark":{"id":"67a33543-f632-5ad4-b78e-7e58f6cbf0c6","tableOfContents":"<ul>\n<li><a href=\"#%E6%8F%92%E5%85%A5%E6%A8%A1%E6%9D%BF\">插入模板</a></li>\n<li><a href=\"#%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98\">链接问题</a></li>\n<li><a href=\"#git\">Git</a></li>\n<li><a href=\"#%E5%85%B3%E4%BA%8E-notion-%E7%9A%84%E9%A2%98%E5%A4%96%E8%AF%9D\">关于 Notion 的题外话</a></li>\n</ul>","excerpt":"上一篇相关文章: [Obsidian体验与新工作流] 用 vscode 写这种大量的 md 文件还是不方便，想看实时渲染效果，因为博客图太多对照起来非常麻烦，Obsidian 相比起来体验会好很多，现在版本升到 1.0 以上了，原生的实时预览也找到了之前 Typora 的熟悉感…","html":"<p>上一篇相关文章: <a href=\"/obsidian1\">[Obsidian体验与新工作流]</a></p>\n<p>用 vscode 写这种大量的 md 文件还是不方便，想看实时渲染效果，因为博客图太多对照起来非常麻烦，Obsidian 相比起来体验会好很多，现在版本升到 1.0 以上了，原生的实时预览也找到了之前 Typora 的熟悉感，我做了下面几个配置来让博客 Vault 更好地适应 hugo。</p>\n<h2 id=\"插入模板\" style=\"position:relative;\"><a href=\"#%E6%8F%92%E5%85%A5%E6%A8%A1%E6%9D%BF\" aria-label=\"插入模板 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>插入模板</h2>\n<p>首先是一个方便的 metadata 插入模板，这比起运行 hugo 指令要方便多了。</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>T<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>time<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>+08<span class=\"token punctuation\">:</span><span class=\"token number\">00</span>\n<span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token key atrule\">categories</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token key atrule\">cover</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n<span class=\"token key atrule\">slug</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>date<span class=\"token punctuation\">:</span>YYYYMMDD<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>time<span class=\"token punctuation\">:</span>HHmmss<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">---</span></code></pre></div>\n<p>在以前我是用社区插件插入模板的，但是现在发现 Obsidian 自带的模板就完全够用了</p>\n<ul>\n<li><code class=\"language-text\">title: {{title}}</code> 直接复用文件名</li>\n<li><code class=\"language-text\">date: {{date}}T{{time}}</code> 即是符合 hugo 要求的时间样式，时区 +08:00</li>\n<li><code class=\"language-text\">slug: {{date:YYYYMMDD}}{{time:HHmmss}}</code> 这个比较有意思，具体说一下</li>\n</ul>\n<p>slug 就是自定义 hugo 生成的链接，因为 hugo 自动生成的链接是直接复用标题的，导致我分享链接的出现中文被微信识别为不属于链接的部分，导致链接没法点，就算用 Safari 直接分享出去也会把链接显示为一大堆 unicode ，非常不美观，因此我想到直接用自带模板的时间格式化一串数字，这肯定是不会重名并且不影响分享的，当然这里也可以用 Templater 之类的社区插件生成一个更短的随机字符串。</p>\n<p>效果:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token punctuation\">---</span>\n<span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Obsidian，Hugo\n<span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span> <span class=\"token datetime number\">2023-01-04T18:07:41+08:00</span>\n<span class=\"token key atrule\">tags</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token key atrule\">categories</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token key atrule\">cover</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span>\n<span class=\"token key atrule\">slug</span><span class=\"token punctuation\">:</span> <span class=\"token number\">20230104180741</span>\n<span class=\"token punctuation\">---</span></code></pre></div>\n<p>这样生成的链接是这样的: <a href=\"https://zzhgo.com/posts/2023-1/20230104180741/\">https://zzhgo.com/posts/2023-1/20230104180741/</a> 就不存在非法字符的问题了。</p>\n<p>记得在 hugo config 忽略模板。</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">ignoreFiles</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"Templates.md\"</span> <span class=\"token punctuation\">]</span></code></pre></div>\n<h2 id=\"链接问题\" style=\"position:relative;\"><a href=\"#%E9%93%BE%E6%8E%A5%E9%97%AE%E9%A2%98\" aria-label=\"链接问题 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>链接问题</h2>\n<p>Obsidian 默认是用双链联系文件的，这也是 Obsidian 早期最大的卖点，这个功能的存在导致 markdown 本来的链接格式在这个软件里没什么存在感，链接图片和其他 markdown 文件就和 hugo 完全不一致。于是我用了一个妥协二者的办法，在引用其他文件的时候使用这样的格式：</p>\n<p><img src=\"https://pic.mcac.cc/202301041905120.png\" alt=\"\"></p>\n<p>其中双括号建立了 Obsidian 的双链，后者是 hugo 的链接语法，最后呈现在网页上的效果是这样的: [[Obsidian体验与新工作流]]({{&#x3C;ref \"Obsidian体验与新工作流\">}})</p>\n<p>当然这在移动文件的时候 ref 的链接会失效，Obsidian 会自动调整双链，可以根据 Obsidian 的提示让自己想起来还有个 ref 没调整。</p>\n<h2 id=\"git\" style=\"position:relative;\"><a href=\"#git\" aria-label=\"git permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Git</h2>\n<p><a href=\"https://github.com/denolehov/obsidian-git\">obsidian-git</a> 用这个插件来快速提交更新</p>\n<p>⌘ + P</p>\n<table>\n<thead>\n<tr>\n<th>查看 source control view</th>\n<th>一键提交</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><img src=\"https://pic.mcac.cc/202301042207707.png\" alt=\"\"></td>\n<td><img src=\"https://pic.mcac.cc/202301042209616.png\" alt=\"\"></td>\n</tr>\n</tbody>\n</table>\n<p>加上 GitHub Actions 自动化 <a href=\"/20221215153138\">[Hugo部署]</a></p>\n<h2 id=\"关于-notion-的题外话\" style=\"position:relative;\"><a href=\"#%E5%85%B3%E4%BA%8E-notion-%E7%9A%84%E9%A2%98%E5%A4%96%E8%AF%9D\" aria-label=\"关于 notion 的题外话 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>关于 Notion 的题外话</h2>\n<p>用了一段时间 Notion ，也是折腾了好久，建了很多页面，最后发现真的想找一个文件的时候他的搜索真的很慢，而且有时候会出现同步功能失效的情况，记笔记还是为了找起来快，所以 Obsidian 本地文件极快的搜索和双链还是更适合存笔记。而且这次从 Notion 迁移东西出来发现这个东西真的好进不好出，有条件还是把文件都按照原生 markdown 存起来。Notion 的数据库是真的方便，非常喜欢的功能，我的一些数据仍然放在 Notion 里面。</p>\n<p>顺带一提，Obsidian 新出的 <a href=\"https://obsidian.md/canvas\">Canvas</a> 值得一试。</p>","frontmatter":{"title":"Obsidian，Hugo","date":"2023-01-04","image":"https://pic.mcac.cc/202301042234833.png","tags":["APP"]}}},"pageContext":{"id":"67a33543-f632-5ad4-b78e-7e58f6cbf0c6"}},"staticQueryHashes":["3000541721"],"slicesMap":{}}